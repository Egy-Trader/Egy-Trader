<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Animation - Ø¯ÙˆØ±Ø© Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª 18 Ø³Ù†Ø©</title>
    <link rel="stylesheet" href="assets/css/styles.css">
    <style>
        .animation-container {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin: 30px auto;
            max-width: 1200px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        
        canvas {
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            display: block;
            margin: 0 auto;
            cursor: pointer;
            background: linear-gradient(to bottom, #f8f9fa 0%, #ffffff 100%);
        }
        
        .controls {
            text-align: center;
            margin-top: 30px;
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 15px 30px;
            font-size: 1.1rem;
            font-weight: bold;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            color: white;
            min-width: 150px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }
        
        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(245, 87, 108, 0.4);
        }
        
        .btn-success {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }
        
        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(79, 172, 254, 0.4);
        }
        
        .phase-info {
            margin-top: 30px;
            padding: 25px;
            border-radius: 12px;
            min-height: 200px;
            transition: all 0.5s;
        }
        
        .phase-info h3 {
            font-size: 1.8rem;
            margin-bottom: 15px;
        }
        
        .phase-info p {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 10px;
        }
        
        .timeline {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .timeline-item {
            background: white;
            padding: 12px 20px;
            border-radius: 8px;
            font-weight: bold;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            margin-top: 20px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            width: 0%;
            transition: width 0.3s;
        }
        
        .legend {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 25px;
            flex-wrap: wrap;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1rem;
        }
        
        .legend-color {
            width: 30px;
            height: 20px;
            border-radius: 4px;
            border: 2px solid #333;
        }
    </style>
</head>
<body>
    <header>
        <h1>ğŸ  Animation - Ø¯ÙˆØ±Ø© Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª 18 Ø³Ù†Ø©</h1>
        <p>Ø´Ø§Ù‡Ø¯ ÙƒÙŠÙ ØªØªØ­Ø±Ùƒ Ø§Ù„Ø£Ø³ÙˆØ§Ù‚ Ø§Ù„Ø¹Ù‚Ø§Ø±ÙŠØ© Ø¹Ø¨Ø± Ø§Ù„Ø²Ù…Ù†</p>
    </header>

    <nav>
        <ul>
            <li><a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
            <li><a href="real-estate-cycle.html">Ø¯ÙˆØ±Ø© Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª 18 Ø³Ù†Ø©</a></li>
            <li><a href="Banner-cycles.html">Ø¯ÙˆØ±Ø© Ø¨ÙŠÙ†Ø±</a></li>
            <li><a href="cycles-hub.html">Ø§Ù„Ø¯ÙˆØ±Ø§Øª Ø§Ù„Ø§Ù‚ØªØµØ§Ø¯ÙŠØ©</a></li>
        </ul>
    </nav>

    <div class="container">
        <div class="animation-container">
            <h2 style="text-align: center; color: #667eea; margin-bottom: 30px;">
                ğŸ“Š Ø¯ÙˆØ±Ø© Ø³ÙˆÙ‚ Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª - 18 Ø³Ù†Ø©
            </h2>
            
            <canvas id="cycleCanvas" width="1100" height="600"></canvas>
            
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar"></div>
            </div>
            
            <div class="controls">
                <button class="btn btn-primary" onclick="startAnimation()">â–¶ï¸ Ø§Ø¨Ø¯Ø£ Animation</button>
                <button class="btn btn-secondary" onclick="pauseAnimation()">â¸ï¸ ÙˆÙ‚Ù Ù…Ø¤Ù‚Øª</button>
                <button class="btn btn-success" onclick="resetAnimation()">ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„</button>
            </div>
            
            <div class="legend">
                <div class="legend-item">
                    <div class="legend-color" style="background: #28a745;"></div>
                    <span>Ø§Ù„ØªØ¹Ø§ÙÙŠ (Recovery)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #17a2b8;"></div>
                    <span>Ø§Ù„ØªÙˆØ³Ø¹ (Expansion)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #ffc107;"></div>
                    <span>Ø§Ù„ØªØ¨Ø§Ø·Ø¤ Ø§Ù„Ù†ØµÙÙŠ (Mid-Cycle)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #dc3545;"></div>
                    <span>Ø§Ù„Ø¬Ù†ÙˆÙ† (Boom)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #5c6bc0;"></div>
                    <span>Ø§Ù„Ø§Ù†Ù‡ÙŠØ§Ø± (Crash)</span>
                </div>
            </div>
            
            <div id="phaseInfo" class="phase-info" style="background: #f8f9fa; border-right: 4px solid #667eea;">
                <h3>ğŸ‘† Ø§Ø¶ØºØ· "Ø§Ø¨Ø¯Ø£ Animation" Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ø¹Ø±Ø¶</h3>
                <p>Ø³ÙŠØªÙ… Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø±Ø§Ø­Ù„ Ø§Ù„Ø®Ù…Ø³Ø© Ù„Ø¯ÙˆØ±Ø© Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª 18 Ø³Ù†Ø© Ù…Ø¹ Ø§Ù„Ø£Ù…Ø«Ù„Ø© Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠØ© ÙˆØ§Ù„ØªÙˆÙ‚Ø¹Ø§Øª Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ©.</p>
            </div>
        </div>

        <div class="card" style="margin-top: 30px;">
            <h2>ğŸ“– ÙƒÙŠÙ ØªØ³ØªØ®Ø¯Ù… Ù‡Ø°Ø§ Ø§Ù„Ù€ AnimationØŸ</h2>
            <ul style="font-size: 1.1rem; line-height: 2;">
                <li><strong>Ø§Ø¶ØºØ· "Ø§Ø¨Ø¯Ø£ Animation":</strong> Ù„Ø±Ø¤ÙŠØ© ÙƒÙŠÙ ØªØªØ·ÙˆØ± Ø§Ù„Ø¯ÙˆØ±Ø© Ù…Ø±Ø­Ù„Ø© Ø¨Ù…Ø±Ø­Ù„Ø©</li>
                <li><strong>Ø±Ø§Ù‚Ø¨ Ø§Ù„Ø£Ù„ÙˆØ§Ù†:</strong> ÙƒÙ„ Ù„ÙˆÙ† ÙŠÙ…Ø«Ù„ Ù…Ø±Ø­Ù„Ø© Ù…Ø®ØªÙ„ÙØ© Ù…Ù† Ø§Ù„Ø¯ÙˆØ±Ø©</li>
                <li><strong>ØªØ§Ø¨Ø¹ Ø§Ù„Ø³Ù†ÙˆØ§Øª:</strong> Ø³ØªØ¸Ù‡Ø± Ø§Ù„Ø£Ù…Ø«Ù„Ø© Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠØ© (1972ØŒ 1989ØŒ 2008) ÙˆØ§Ù„ØªÙˆÙ‚Ø¹Ø§Øª (2025-2030)</li>
                <li><strong>Ø§Ù‚Ø±Ø£ Ø§Ù„Ø´Ø±Ø­:</strong> Ø£Ø³ÙÙ„ Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ Ø³ØªØ¬Ø¯ Ø´Ø±Ø­ ØªÙØµÙŠÙ„ÙŠ Ù„ÙƒÙ„ Ù…Ø±Ø­Ù„Ø©</li>
            </ul>
        </div>
    </div>

    <footer>
        <p>&copy; 2026 Ø¯Ù„ÙŠÙ„ Ø§Ù„ØªØ¯Ø§ÙˆÙ„ Ø§Ù„Ù…ØµØ±ÙŠ - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</p>
        <p style="margin-top: 10px;">Ahmed Eltaher | +4915154346438 | ahmedmahmoud.eltaher@gmail.com</p>
    </footer>

    <script>
        const canvas = document.getElementById('cycleCanvas');
        const ctx = canvas.getContext('2d');
        
        let animationFrame = 0;
        let maxFrames = 550;
        let isPlaying = false;
        let animationId = null;
        let currentPhase = 0;
        
        // Ù…Ø±Ø§Ø­Ù„ Ø§Ù„Ø¯ÙˆØ±Ø© - 18 Ø³Ù†Ø© Ø¥Ø¬Ù…Ø§Ù„ÙŠ
        const phases = [
            {
                name: "Ø§Ù„ØªØ¹Ø§ÙÙŠ - Recovery",
                duration: 3.5, // Ø³Ù†ÙŠÙ†
                color: "#28a745",
                background: "#d4edda",
                borderColor: "#28a745",
                description: "Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ (3-4 Ø³Ù†ÙŠÙ†): Ø§Ù„Ø³ÙˆÙ‚ ÙŠØªØ¹Ø§ÙÙ‰ Ù…Ù† Ø§Ù„Ø£Ø²Ù…Ø©. Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ù…Ù†Ø®ÙØ¶Ø©ØŒ Ø§Ù„Ù†Ø§Ø³ Ø®Ø§ÙŠÙØ©ØŒ ÙˆØ§Ù„ÙØ±Øµ Ø°Ù‡Ø¨ÙŠØ© Ù„Ù„Ù…Ø³ØªØ«Ù…Ø±ÙŠÙ† Ø§Ù„Ø£Ø°ÙƒÙŠØ§Ø¡.",
                examples: "ğŸ“… Ø­ØµÙ„Øª ÙÙŠ: 2009-2012 (Ø¨Ø¹Ø¯ Ø£Ø²Ù…Ø© 2008) | 1992-1995 (Ø¨Ø¹Ø¯ Ø£Ø²Ù…Ø© 1989)",
                future: "ğŸ”® Ù…ØªÙˆÙ‚Ø¹Ø©: 2031-2034"
            },
            {
                name: "Ø§Ù„ØªÙˆØ³Ø¹ - Expansion",
                duration: 6.5, // Ø³Ù†ÙŠÙ†
                color: "#17a2b8",
                background: "#d1ecf1",
                borderColor: "#17a2b8",
                description: "Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© (6-7 Ø³Ù†ÙŠÙ†): Ø§Ù„Ø§Ù‚ØªØµØ§Ø¯ ÙŠÙ†Ù…ÙˆØŒ Ø§Ù„Ù‚Ø±ÙˆØ¶ Ø³Ù‡Ù„Ø©ØŒ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ØªØ·Ù„Ø¹ Ø¨Ø«Ø¨Ø§Øª. Ø§Ù„ÙƒÙ„ Ø¨ÙŠØ´ØªØ±ÙŠ ÙˆÙ…ØªÙØ§Ø¦Ù„. Ø§Ø³ØªØ«Ù…Ø§Ø± Ø¢Ù…Ù† Ù†Ø³Ø¨ÙŠØ§Ù‹.",
                examples: "ğŸ“… Ø­ØµÙ„Øª ÙÙŠ: 2013-2019 | 1996-2002",
                future: "ğŸ”® Ù…ØªÙˆÙ‚Ø¹Ø©: 2035-2041"
            },
            {
                name: "Ø§Ù„ØªØ¨Ø§Ø·Ø¤ Ø§Ù„Ù†ØµÙÙŠ - Mid-Cycle Slowdown",
                duration: 1.5, // Ø³Ù†ÙŠÙ†
                color: "#ffc107",
                background: "#fff3cd",
                borderColor: "#ffc107",
                description: "Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø© (1-2 Ø³Ù†Ø©): ØªØ¨Ø§Ø·Ø¤ Ù…Ø¤Ù‚Øª - Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ØªØ³ØªÙ‚Ø± Ø£Ùˆ ØªÙ†Ø²Ù„ Ù‚Ù„ÙŠÙ„Ø§Ù‹. Ù…Ø±Ø­Ù„Ø© Ø®Ø§Ø¯Ø¹Ø©! Ø§Ù„Ù†Ø§Ø³ ØªØ¸Ù† Ø§Ù„Ø£Ø²Ù…Ø© Ø¹Ø¯Ù‘ØªØŒ Ù„ÙƒÙ† Ø¯ÙŠ Ù…Ø¬Ø±Ø¯ Ø¨Ø±ÙˆÙØ©.",
                examples: "ğŸ“… Ø­ØµÙ„Øª ÙÙŠ: 2019 (ØªØ¨Ø§Ø·Ø¤ Ù‚Ø¨Ù„ ÙƒÙˆØ±ÙˆÙ†Ø§) | 2003-2004",
                future: "ğŸ”® Ù…ØªÙˆÙ‚Ø¹Ø©: 2042-2043"
            },
            {
                name: "Ø§Ù„Ø¬Ù†ÙˆÙ† - Boom / Winner's Curse",
                duration: 2.5, // Ø³Ù†ÙŠÙ†
                color: "#dc3545",
                background: "#f8d7da",
                borderColor: "#dc3545",
                description: "Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø±Ø§Ø¨Ø¹Ø© (2-3 Ø³Ù†ÙŠÙ†): ğŸ’£ Ø£Ø®Ø·Ø± Ù…Ø±Ø­Ù„Ø©! Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ØªØ·ÙŠØ±ØŒ Ø§Ù„ÙƒÙ„ Ø¨ÙŠØ´ØªØ±ÙŠ Ø¨Ø¬Ù†ÙˆÙ†ØŒ 'Ø§Ù„Ø¹Ù‚Ø§Ø± Ù„Ø§ ÙŠÙ†Ù‡Ø§Ø±'. Ø§Ù„Ø·Ù…Ø¹ ÙÙŠ Ø°Ø±ÙˆØªÙ‡. Ø§Ù„Ù…Ø­ØªØ±ÙÙŠÙ† Ø¨ÙŠØ¨ÙŠØ¹ÙˆØ§ ÙˆØ§Ù„Ù…Ø¨ØªØ¯Ø¦ÙŠÙ† Ø¨ÙŠØ´ØªØ±ÙˆØ§!",
                examples: "ğŸ“… Ø­ØµÙ„Øª ÙÙŠ: 2005-2007 (Ù‚Ø¨Ù„ Ø£Ø²Ù…Ø© 2008) | 1987-1989",
                future: "ğŸ”® Ù…ØªÙˆÙ‚Ø¹Ø©: 2024-2026 âš ï¸"
            },
            {
                name: "Ø§Ù„Ø§Ù†Ù‡ÙŠØ§Ø± - Crash & Recession",
                duration: 4, // Ø³Ù†ÙŠÙ†
                color: "#5c6bc0",
                background: "#e8eaf6",
                borderColor: "#5c6bc0",
                description: "Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø®Ø§Ù…Ø³Ø© (3-4 Ø³Ù†ÙŠÙ†): Ø§Ù„ÙÙ‚Ø§Ø¹Ø© ØªÙ†ÙØ¬Ø±! ğŸ’¥ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ØªÙ†Ù‡Ø§Ø±ØŒ Ø§Ù„Ù‚Ø±ÙˆØ¶ ØªØªÙˆÙ‚ÙØŒ Ø§Ù„Ù†Ø§Ø³ ØªØ¨ÙŠØ¹ Ø¨Ø§Ù„Ø®Ø³Ø§Ø±Ø©. Ù„ÙƒÙ†... Ù‡Ù†Ø§ ÙØ±ØµØ© Ø§Ù„Ø£ØºÙ†ÙŠØ§Ø¡! Ø§Ù„Ù„ÙŠ Ù…Ø¹Ø§Ù‡ ÙƒØ§Ø´ ÙŠØ´ØªØ±ÙŠ Ø¨Ø£Ø±Ø®Øµ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±.",
                examples: "ğŸ“… Ø­ØµÙ„Øª ÙÙŠ: 2008-2011 (Ø§Ù„Ø£Ø²Ù…Ø© Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ©) | 1990-1993",
                future: "ğŸ”® Ù…ØªÙˆÙ‚Ø¹Ø©: 2027-2030"
            }
        ];
        
        function drawChart() {
            // Ù…Ø³Ø­ Canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Ø±Ø³Ù… Ø§Ù„Ù…Ø­Ø§ÙˆØ± ÙˆØ§Ù„Ø´Ø¨ÙƒØ©
            drawGrid();
            drawAxes();
            
            // Ø±Ø³Ù… Ù…Ù†Ø­Ù†Ù‰ Ø§Ù„Ø¯ÙˆØ±Ø©
            drawCycle();
            
            // Ø±Ø³Ù… Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© ÙˆØ§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª
            drawCurrentPoint();
            
            // Ø±Ø³Ù… Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù…Ø±Ø§Ø­Ù„
            drawPhaseLabels();
        }
        
        function drawGrid() {
            ctx.strokeStyle = '#e0e0e0';
            ctx.lineWidth = 1;
            
            // Ø®Ø·ÙˆØ· Ø£ÙÙ‚ÙŠØ©
            for (let i = 0; i <= 10; i++) {
                const y = 50 + (i * 50);
                ctx.beginPath();
                ctx.moveTo(80, y);
                ctx.lineTo(1020, y);
                ctx.stroke();
            }
            
            // Ø®Ø·ÙˆØ· Ø±Ø£Ø³ÙŠØ©
            for (let i = 0; i <= 18; i++) {
                const x = 80 + (i * 52);
                ctx.beginPath();
                ctx.moveTo(x, 50);
                ctx.lineTo(x, 550);
                ctx.stroke();
            }
        }
        
        function drawAxes() {
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 3;
            ctx.font = 'bold 14px Arial';
            ctx.fillStyle = '#333';
            ctx.textAlign = 'center';
            
            // Ø§Ù„Ù…Ø­ÙˆØ± Ø§Ù„Ø£ÙÙ‚ÙŠ (Ø§Ù„Ø²Ù…Ù† - 18 Ø³Ù†Ø©)
            ctx.beginPath();
            ctx.moveTo(80, 550);
            ctx.lineTo(1020, 550);
            ctx.stroke();
            
            // Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø³Ù†ÙˆØ§Øª
            for (let i = 0; i <= 18; i++) {
                const x = 80 + (i * 52);
                ctx.fillText(i + ' Ø³Ù†Ø©', x, 575);
            }
            
            // Ø§Ù„Ù…Ø­ÙˆØ± Ø§Ù„Ø±Ø£Ø³ÙŠ (Ø§Ù„Ø³Ø¹Ø±)
            ctx.beginPath();
            ctx.moveTo(80, 50);
            ctx.lineTo(80, 550);
            ctx.stroke();
            
            // Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ø­ÙˆØ± Ø§Ù„Ø±Ø£Ø³ÙŠ
            ctx.save();
            ctx.translate(30, 300);
            ctx.rotate(-Math.PI / 2);
            ctx.fillText('Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª', 0, 0);
            ctx.restore();
            
            // Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ø­ÙˆØ± Ø§Ù„Ø£ÙÙ‚ÙŠ
            ctx.fillText('Ø§Ù„ÙˆÙ‚Øª (18 Ø³Ù†Ø©)', 550, 595);
        }
        
        function drawCycle() {
            let x = 80;
            let y = 450; // Ù†Ø¨Ø¯Ø£ Ù…Ù† Ù…Ø³ØªÙˆÙ‰ Ù…Ù†Ø®ÙØ¶ (Ø¨Ø¹Ø¯ Ø£Ø²Ù…Ø©)
            let yearsPassed = 0;
            
            phases.forEach((phase, index) => {
                const startX = x;
                const startY = y;
                const endX = x + (phase.duration * 52);
                
                // Ø­Ø³Ø§Ø¨ Ù†Ù‚Ø·Ø© Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ù„ÙƒÙ„ Ù…Ø±Ø­Ù„Ø©
                let endY;
                if (index === 0) { // Recovery
                    endY = 350;
                } else if (index === 1) { // Expansion
                    endY = 200;
                } else if (index === 2) { // Mid-Cycle Slowdown
                    endY = 250;
                } else if (index === 3) { // Boom
                    endY = 100;
                } else { // Crash
                    endY = 450;
                }
                
                // Ø±Ø³Ù… Ø§Ù„Ù…Ù†Ø­Ù†Ù‰
                const segments = 50;
                const frameProgress = Math.min(animationFrame / maxFrames, 1);
                const phaseStart = yearsPassed / 18;
                const phaseEnd = (yearsPassed + phase.duration) / 18;
                
                ctx.strokeStyle = phase.color;
                ctx.lineWidth = 4;
                ctx.beginPath();
                ctx.moveTo(startX, startY);
                
                for (let i = 0; i <= segments; i++) {
                    const t = i / segments;
                    const currentX = startX + t * (endX - startX);
                    const currentY = startY + t * (endY - startY);
                    
                    const globalProgress = phaseStart + (phaseEnd - phaseStart) * t;
                    
                    if (globalProgress <= frameProgress) {
                        ctx.lineTo(currentX, currentY);
                    }
                }
                
                ctx.stroke();
                
                // ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ù…Ø³Ø§Ø­Ø© ØªØ­Øª Ø§Ù„Ù…Ù†Ø­Ù†Ù‰ (Ø¥Ø°Ø§ ÙƒØ§Ù† Animation ÙˆØµÙ„ Ù„Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø±Ø­Ù„Ø©)
                if (frameProgress >= phaseEnd || (frameProgress >= phaseStart && index === currentPhase)) {
                    ctx.globalAlpha = 0.2;
                    ctx.fillStyle = phase.color;
                    ctx.beginPath();
                    ctx.moveTo(startX, startY);
                    
                    for (let i = 0; i <= segments; i++) {
                        const t = i / segments;
                        const currentX = startX + t * (endX - startX);
                        const currentY = startY + t * (endY - startY);
                        ctx.lineTo(currentX, currentY);
                    }
                    
                    ctx.lineTo(endX, 550);
                    ctx.lineTo(startX, 550);
                    ctx.closePath();
                    ctx.fill();
                    ctx.globalAlpha = 1;
                }
                
                x = endX;
                y = endY;
                yearsPassed += phase.duration;
            });
        }
        
        function drawPhaseLabels() {
            ctx.font = 'bold 13px Arial';
            ctx.textAlign = 'center';
            
            let x = 80;
            let yearsPassed = 0;
            
            phases.forEach((phase, index) => {
                const phaseWidth = phase.duration * 52;
                const centerX = x + phaseWidth / 2;
                
                // Ø¹Ø±Ø¶ Ø§Ù„ØªØ³Ù…ÙŠØ© ÙÙ‚Ø· Ø¥Ø°Ø§ ÙˆØµÙ„ Animation Ù„Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø±Ø­Ù„Ø©
                const frameProgress = animationFrame / maxFrames;
                const phaseStart = yearsPassed / 18;
                
                if (frameProgress >= phaseStart) {
                    ctx.fillStyle = phase.color;
                    ctx.fillText(phase.name, centerX, 35);
                    
                    // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø¯Ø©
                    ctx.font = '11px Arial';
                    ctx.fillStyle = '#666';
                    ctx.fillText(`(${phase.duration} Ø³Ù†Ø©)`, centerX, 20);
                    ctx.font = 'bold 13px Arial';
                }
                
                x += phaseWidth;
                yearsPassed += phase.duration;
            });
        }
        
        function drawCurrentPoint() {
            const frameProgress = animationFrame / maxFrames;
            
            // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ
            let yearsPassed = 0;
            let currentX = 80;
            let currentY = 450;
            
            for (let i = 0; i < phases.length; i++) {
                const phase = phases[i];
                const phaseStart = yearsPassed / 18;
                const phaseEnd = (yearsPassed + phase.duration) / 18;
                
                if (frameProgress >= phaseStart && frameProgress <= phaseEnd) {
                    currentPhase = i;
                    
                    // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ø±Ø­Ù„Ø©
                    const phaseProgress = (frameProgress - phaseStart) / (phaseEnd - phaseStart);
                    
                    let startY, endY;
                    if (i === 0) {
                        startY = 450; endY = 350;
                    } else if (i === 1) {
                        startY = 350; endY = 200;
                    } else if (i === 2) {
                        startY = 200; endY = 250;
                    } else if (i === 3) {
                        startY = 250; endY = 100;
                    } else {
                        startY = 100; endY = 450;
                    }
                    
                    currentX = 80 + (yearsPassed + phase.duration * phaseProgress) * 52;
                    currentY = startY + phaseProgress * (endY - startY);
                    
                    break;
                }
                
                yearsPassed += phase.duration;
                
                // ØªØ­Ø¯ÙŠØ« Y Ù„Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©
                if (i === 0) currentY = 350;
                else if (i === 1) currentY = 200;
                else if (i === 2) currentY = 250;
                else if (i === 3) currentY = 100;
                else currentY = 450;
            }
            
            // Ø±Ø³Ù… Ù†Ù‚Ø·Ø© Ø³Ø§Ø·Ø¹Ø©
            if (isPlaying) {
                ctx.beginPath();
                ctx.arc(currentX, currentY, 8, 0, Math.PI * 2);
                ctx.fillStyle = phases[currentPhase].color;
                ctx.fill();
                
                // Ø¯Ø§Ø¦Ø±Ø© Ø®Ø§Ø±Ø¬ÙŠØ© Ù…ØªÙˆÙ‡Ø¬Ø©
                ctx.beginPath();
                ctx.arc(currentX, currentY, 15, 0, Math.PI * 2);
                ctx.strokeStyle = phases[currentPhase].color;
                ctx.lineWidth = 3;
                ctx.globalAlpha = 0.5;
                ctx.stroke();
                ctx.globalAlpha = 1;
            }
            
            // ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø±Ø­Ù„Ø©
            updatePhaseInfo();
        }
        
        function updatePhaseInfo() {
            const infoBox = document.getElementById('phaseInfo');
            const phase = phases[currentPhase];
            
            infoBox.style.background = phase.background;
            infoBox.style.borderRightColor = phase.borderColor;
            
            infoBox.innerHTML = `
                <h3 style="color: ${phase.color};">${phase.name}</h3>
                <p><strong>Ø§Ù„Ù…Ø¯Ø©:</strong> ${phase.duration} Ø³Ù†Ø©</p>
                <p>${phase.description}</p>
                <div class="timeline">
                    <div class="timeline-item" style="border-right: 4px solid ${phase.color};">
                        ${phase.examples}
                    </div>
                    <div class="timeline-item" style="border-right: 4px solid ${phase.color};">
                        ${phase.future}
                    </div>
                </div>
            `;
            
            // ØªØ­Ø¯ÙŠØ« progress bar
            const progressBar = document.getElementById('progressBar');
            progressBar.style.width = (animationFrame / maxFrames * 100) + '%';
        }
        
        function animate() {
            if (!isPlaying) return;
            
            drawChart();
            
            animationFrame++;
            if (animationFrame > maxFrames) {
                animationFrame = maxFrames;
                isPlaying = false;
            }
            
            if (isPlaying) {
                animationId = requestAnimationFrame(animate);
            }
        }
        
        function startAnimation() {
            if (animationFrame >= maxFrames) {
                animationFrame = 0;
            }
            isPlaying = true;
            animate();
        }
        
        function pauseAnimation() {
            isPlaying = false;
            if (animationId) {
                cancelAnimationFrame(animationId);
            }
        }
        
        function resetAnimation() {
            pauseAnimation();
            animationFrame = 0;
            currentPhase = 0;
            drawChart();
            
            const infoBox = document.getElementById('phaseInfo');
            infoBox.style.background = '#f8f9fa';
            infoBox.style.borderRightColor = '#667eea';
            infoBox.innerHTML = `
                <h3>ğŸ‘† Ø§Ø¶ØºØ· "Ø§Ø¨Ø¯Ø£ Animation" Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ø¹Ø±Ø¶</h3>
                <p>Ø³ÙŠØªÙ… Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø±Ø§Ø­Ù„ Ø§Ù„Ø®Ù…Ø³Ø© Ù„Ø¯ÙˆØ±Ø© Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª 18 Ø³Ù†Ø© Ù…Ø¹ Ø§Ù„Ø£Ù…Ø«Ù„Ø© Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠØ© ÙˆØ§Ù„ØªÙˆÙ‚Ø¹Ø§Øª Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ©.</p>
            `;
            
            document.getElementById('progressBar').style.width = '0%';
        }
        
        // Ø±Ø³Ù… Ø§Ù„Ø´Ø§Ø±Øª Ø§Ù„Ø£ÙˆÙ„ÙŠ
        drawChart();
    </script>
</body>
</html>
